<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.empty.mapper.HistoryMapper">
	<select id="findByUserId" parameterType="int"
		resultType="historyEntity">
		SELECT
		*
		FROM
		`empty_db`.`history`
		WHERE user_id = #{userId}
		ORDER BY history_time DESC
	</select>

	<insert id="saveNewHistory" parameterType="historyEntity">
		INSERT INTO `history` (
		<if test="commentId != null">`comment_id`,</if>
		`action`,
		`user_id`,
		`video_id`
		)
		VALUES
		(
		<if test="commentId != null">#{commentId},</if>
		#{action},
		#{userId},
		#{videoId}
		)
	</insert>

</mapper>